{"remainingRequest":"/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/node_modules/babel-loader/lib/index.js!/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/src/components/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/src/components/Search.vue","mtime":1569165082000},{"path":"/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _slicedToArray from \"/Users/jimmybui/Documents/Web&App/example/my_vue_grid/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Bookings from \"./Bookings\";\nimport Loading from \"./Loading\";\nimport Error from \"./Error\";\nimport { URL } from \"../constants/constants\";\nimport axios from 'axios';\nexport default {\n  name: 'Search',\n  components: {\n    Bookings: Bookings,\n    Loading: Loading,\n    Error: Error\n  },\n  data: function data() {\n    return {\n      keyWord: \"\",\n      sellers: [],\n      error: null\n    };\n  },\n  mounted: function mounted() {\n    this.getSellers();\n  },\n  methods: {\n    handleChange: function handleChange(e) {\n      e.preventDefault();\n      this.keyWord = e.target.value;\n\n      if (this.keyWord.length >= 3) {\n        this.getSellers();\n      }\n    },\n    handleEnter: function handleEnter(e) {\n      e.preventDefault();\n      this.getSellers();\n    },\n    getSellers: function getSellers() {\n      var _this = this;\n\n      // Show loading\n      this.$refs.loading.handleLoading();\n      Promise.all([axios.get(URL + \"/sellers\"), axios.get(URL + \"/products\")]).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            resp = _ref2[0],\n            resp1 = _ref2[1];\n\n        var sellers = resp.data.map(function (seller) {\n          var products = resp1.data.filter(function (x) {\n            return x.sellerId == seller.id && x.name.toUpperCase().includes(_this.keyWord.toUpperCase());\n          });\n          return _objectSpread({}, seller, {\n            products: products\n          });\n        });\n        _this.sellers = sellers; // Hide loading\n\n        _this.$refs.loading.handleLoading();\n      }).catch(function (err) {\n        // Handle the error\n        _this.error = err; // Hide loading\n\n        _this.$refs.loading.handleLoading();\n      });\n    }\n  }\n};",{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA,OAAA,QAAA;AACA,OAAA,OAAA;AACA,OAAA,KAAA;AACA,SAAA,GAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,OAAA,EAAA,OAFA;AAGA,IAAA,KAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,SAAA,UAAA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,CADA,EACA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,WAAA,OAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA;;AACA,UAAA,KAAA,OAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,UAAA;AACA;AACA,KAPA;AASA,IAAA,WATA,uBASA,CATA,EASA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,WAAA,UAAA;AACA,KAZA;AAcA,IAAA,UAdA,wBAcA;AAAA;;AACA;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,aAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,CACA,KAAA,CAAA,GAAA,CAAA,GAAA,GAAA,UAAA,CADA,EAEA,KAAA,CAAA,GAAA,CAAA,GAAA,GAAA,WAAA,CAFA,CAAA,EAIA,IAJA,CAIA,gBAAA;AAAA;AAAA,YAAA,IAAA;AAAA,YAAA,KAAA;;AACA,YAAA,OAAA,GAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA;AACA,cAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,mBAAA,CAAA,CAAA,QAAA,IAAA,MAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,WAAA,GAAA,QAAA,CAAA,KAAA,CAAA,OAAA,CAAA,WAAA,EAAA,CAAA;AAAA,WAAA,CAAA;AACA,mCAAA,MAAA;AAAA,YAAA,QAAA,EAAA;AAAA;AACA,SAHA,CAAA;AAIA,QAAA,KAAA,CAAA,OAAA,GAAA,OAAA,CALA,CAMA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,aAAA;AACA,OAZA,EAaA,KAbA,CAaA,UAAA,GAAA,EAAA;AACA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAFA,CAGA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,aAAA;AACA,OAlBA;AAmBA;AApCA;AAjBA,CAAA","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"search\">\n            <input @keyup.enter=\"handleEnter\" class=\"form-control\" @change=\"handleChange\" type=\"text\" placeHolder=\"Search for booking by product name\" />\n            <br/>\n            <div class=\"content\" v-for=\"seller in sellers\" :key=\"seller\">\n                <p>{{ seller.name }}</p>\n                <Bookings :seller=\"seller\" />\n            </div>\n            <Loading ref=\"loading\" />\n            <Error v-if=\"error && error.message\" :message=\"error.message\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport Bookings from './Bookings'\nimport Loading from './Loading'\nimport Error from './Error'\nimport { URL } from '../constants/constants'\nimport axios from 'axios'\n\nexport default {\n    name: 'Search',\n    components: {\n        Bookings,\n        Loading,\n        Error\n    },\n    data() {\n        return {\n            keyWord: \"\",\n            sellers: [],\n            error: null\n        }\n    },\n    mounted() {\n        this.getSellers();\n    },\n    methods: {\n        handleChange(e) {\n            e.preventDefault();\n            this.keyWord = e.target.value;\n            if(this.keyWord.length >=3 ) {\n                this.getSellers();\n            }\n        },\n\n        handleEnter(e) {\n            e.preventDefault();\n            this.getSellers();\n        },\n\n        getSellers() {\n            // Show loading\n            this.$refs.loading.handleLoading();\n            Promise.all([\n                axios.get(URL + \"/sellers\"),\n                axios.get(URL + \"/products\")\n            ])\n            .then(([resp, resp1]) => {\n                const sellers = resp.data.map(seller => {\n                    var products = resp1.data.filter(x => (x.sellerId == seller.id) && (x.name.toUpperCase().includes(this.keyWord.toUpperCase())));\n                    return {...seller, products: products};\n                })\n                this.sellers = sellers;\n                // Hide loading\n                this.$refs.loading.handleLoading();\n            })\n            .catch((err) => {\n                // Handle the error\n                this.error = err;\n                // Hide loading\n                this.$refs.loading.handleLoading();\n            });\n        }\n    }\n}\n</script>"],"sourceRoot":"src/components"}]}